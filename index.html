<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor de Plan Semanal - NutriGema</title>
    <!-- Carga de la librer√≠a de gr√°ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Carga de las fuentes de Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
    <!-- Enlace a tu nueva hoja de estilos -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <header>
            <h1>Mi Plan Semanal</h1>
            <p>Un plan divertido y creativo por NutriGema ‚ú®</p>
        </header>

        <div class="view-switcher">
            <button id="viewPlansBtn" class="active">Ver Planes</button>
            <button id="createPlanBtn">Crear Mi Plan</button>
            <button id="myPricesBtn">Mis Precios</button>
            <button id="recipeLibraryBtn">Biblioteca</button>
        </div>

        <!-- VIEW 1: PREDEFINED PLANS -->
        <div id="viewPlansView" class="view active">
            <div class="selectors-container">
                <div class="top-controls">
                    <select id="planSelector" aria-label="Seleccionar Plan Semanal"></select>
                    <div class="portion-selector">
                        <label for="portionSelectorInput">Personas:</label>
                        <input type="number" id="portionSelectorInput" value="1" min="1">
                    </div>
                </div>
                <div class="action-buttons">
                    <button id="weeklyShopBtn" class="action-btn">üõí Lista Semanal</button>
                    <button id="mealPrepBtn" class="action-btn">üç≥ Plan de Preparaci√≥n</button>
                </div>
                <div class="day-selector" id="daySelector"></div>
            </div>
            <div class="week-grid" id="weekGrid">
                <div class="loader" id="loader"></div>
            </div>
        </div>

        <!-- VIEW 2: DRAG & DROP PLANNER -->
        <div id="createPlanView" class="view">
            <div id="recipeLibrary">
                <h2>Biblioteca de Recetas</h2>
                <input type="text" id="recipeSearch" placeholder="Buscar recetas...">
                <div id="recipeLibraryContent"></div>
            </div>
            <div>
                <div class="top-controls" style="margin-bottom: 20px;">
                    <div class="action-buttons">
                       <button id="plannerWeeklyShopBtn" class="action-btn">üõí Lista Semanal</button>
                    </div>
               </div>
                <div id="plannerCalendar"></div>
                <div class="planner-actions">
                     <button id="savePlanBtn" class="action-btn">üíæ Guardar Plan</button>
                     <button id="clearPlanBtn" class="action-btn" style="background-color: #e74c3c;">Limpiar Plan</button>
                </div>
            </div>
        </div>
        
        <!-- VIEW 3: PRICE CATALOG -->
        <div id="myPricesView" class="view">
            <h2>Mi Cat√°logo de Precios</h2>
            <p style="text-align: center;">Introduce los precios de tu supermercado local para obtener estimaciones de costos precisas.</p>
            <div class="price-catalog-list" id="priceCatalogList"></div>
            <div class="price-actions">
                <button id="savePricesBtn" class="action-btn" style="background-color: var(--primary-color);">Guardar Mis Precios</button>
            </div>
        </div>

        <!-- VIEW 4: FULL RECIPE LIBRARY -->
        <div id="recipeLibraryView" class="view">
            <h2>Biblioteca de Recetas</h2>
            <input type="text" id="fullLibrarySearch" placeholder="Buscar recetas por nombre...">
            <div id="fullLibraryContent">
                <!-- Full recipe cards will be injected here -->
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="shoppingListModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Lista de Compras</h2>
                <button class="close-modal" data-modal-id="shoppingListModal">&times;</button>
            </div>
            <div class="modal-options">
                <div class="include-check">
                    <input type="checkbox" id="includeOptionals" checked>
                    <label for="includeOptionals">Incluir opcionales</label>
                </div>
                <div class="modal-actions">
                    <button id="printBtn" class="action-btn">üñ®Ô∏è Imprimir</button>
                    <button id="copyBtn" class="action-btn">üìã Copiar</button>
                </div>
            </div>
            <div id="shoppingListContent"></div>
        </div>
    </div>
    <div class="modal-overlay" id="mealPrepModal">
         <div class="modal-content">
            <div class="modal-header">
                <h2>Plan de Preparaci√≥n Semanal</h2>
                <button class="close-modal" data-modal-id="mealPrepModal">&times;</button>
            </div>
            <div id="mealPrepContent"></div>
        </div>
    </div>

    <!-- Enlace a tu nuevo archivo JavaScript -->
    <script src="app.js"></script>
</body>
</html>

